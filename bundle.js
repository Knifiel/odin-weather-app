/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={28:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81),a=n.n(r),o=n(645),i=n.n(o)()(a());i.push([e.id,"* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  font-family: Arial, Helvetica, sans-serif;\n}\n#app{\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  overflow-x: hidden; \n}\n\n#header{\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  max-height: fit-content;\n  background-color: grey;\n  gap: 1em;\n}\n\n#search::before{\n  content: 'Show weather in location:';\n  align-self: center;\n  width: fit-content;\n}\n\n#cityList::before{\n  content: 'Choose location:';\n  align-self: center;\n  width: fit-content;\n}\n\n#search, #cityList{\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5em;\n  width: 800px;\n  height: 2em;\n}\n\nbutton{\n  border: 1px solid gray;\n  border-radius: 5px;\n  padding: 3px;\n}\n\n#credit{\n  display: flex;\n  place-items: center;\n}\n\n#credit>img{\n  height: 9vh;\n}\n\n#content{\n  display: flex;\n  height: 100%;\n  width: 100vw;\n  background-color: #bbb;\n}\n\n#content img{\n  height: 3em;\n}\n\n#weather{\n  position: relative;\n  border: 1px solid black;\n  height: 100%;\n  width: fit-content;\n  padding: 0.3em;\n  display: grid;\n  gap: 0.5em;\n  grid-template-areas:\n  'head' \n  'date'\n  'weather'\n  'clouds'\n  'main'\n  'wind'\n  'rain'\n  'snow';\n  grid-template-rows: 2em 2em 3em 2em 5em 5em 3em 3em 3em;\n}\n\n#weather .head{\n  grid-area: head;\n}\n\n#weather .date{\n  grid-area: date;\n}\n#weather .date::before{\n  content: 'This forecast was made at:'\n}\n\n#weather .weatherGroups{\n  grid-area: weather;\n}\n #weather .main{\n  grid-area: main;\n }\n \n #weather .main>.temp::before{\n  content: \"Temperature: \";\n }\n\n #weather .main>.tempFeelsLike::before{\n  content: 'Feels like: ';\n }\n\n .main>.temp::after, .main>.tempFeelsLike::after {\n  content: 'Â°C';\n }\n\n #weather .main>.humidity::before{\n  content: \"Humidity: \";\n }\n .main>.humidity::after{\n  content: '%';\n }\n\n #weather .main>.pressure::before{\n  content: \"Pressure: \";\n }\n .main>.pressure::after{\n  content: \"hPa\";\n }\n\n #weather .main{\n  display: flex;\n  flex-direction: column;\n}\n\n #weather .wind{\n  grid-area: wind;\n  display: flex;\n  flex-direction: column;\n  \n }\n #weather .wind > .windDirection::before{\n  content: \"Wind direction: \";\n }\n .windDirection{\n  display: flex;\n  place-items: center;\n }\n\n #weather .wind > .windSpeed::before{\n  content: 'Wind speed: ';\n }\n .wind > .windSpeed::after{\n  content: \"m/s\";\n }\n #weather .wind > .windGust::before{\n  content: \"Wind gusts: \";\n }\n .wind > .windGust::after{\n  content: \"m/s\";\n }\n\n #weather .clouds{\n  grid-area: clouds;\n }\n #weather .clouds>.cloudiness::before{\n  content: 'Cloudiness: ';\n }\n .clouds>.cloudiness::after{\n  content: \"%\";\n}\n\n #weather .rain{\n  grid-area: rain;\n  display: flex;\n  flex-direction: column;\n } \n #weather .snow{\n  grid-area: snow;\n  display: flex;\n  flex-direction: column;\n }\n #weather .rain > .rain1h::before{\n  content: \"Rain in 1 hour: \";\n }\n #weather .rain > .rain3h::before{\n  content: \"Rain in 3 hours: \";\n }\n #weather .snow > .snow1h::before{\n  content: \"Snow in 1 hour: \";\n }\n #weather .snow > .snow3h::before{\n  content: \"Snow in 3 hours: \";\n }\n .rain>.rain1h::after, .rain>.rain3h::after, .snow>.snow1h::after, .snow>.snow3h::after{\n  content: \"mm\";\n }\n\n .weatherGroups .weather{\n  display: flex;\n  place-items: center;\n }\n \n #forecast{\n  max-height: 90vh;\n  width: 100%;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5em;\n}\n\n #forecast .head{\n  z-index: 1;\n  padding: 0.5em;\n  height: 4em;\n  background-color: #bbb;\n  width: 100%;\n  display: flex;\n  place-content: center;\n }\n\n#forecast ul{\n  list-style: none;\n}\nul>li{\n  display: grid;\n  width: fit-content;\n  padding: 0.5em;\n  justify-content: space-between;\n  align-items: center;\n  gap: 5px;\n  grid-template-areas:\n  \"date weather clouds main wind rain snow\";\n  /* grid-template-columns: 1fr 1.5fr 1.5fr 4fr 4fr 2fr 2fr; */\n  grid-template-columns: minmax(100px, 1fr) repeat(2, minmax(130px, 1.5fr)) repeat(2, minmax(300px, 4fr)) repeat(2, minmax(150px, 2fr))\n}\n\nul>li:nth-of-type(odd){\n  background-color: rgba(128, 128, 128, 0.2);\n}\n\nli>.date{\n  grid-area: date;\n}\nli>.weather{\n  grid-area: weather;\n}\nli>.clouds{\n  grid-area: clouds;\n}\nli>.main{\n  grid-area: main;\n  display: grid;\n  gap: 5px;\n  justify-content: space-between;\n  align-items: center;\n  grid-template-columns: repeat(4, 1fr);\n}\n\nli>.wind{\n  grid-area: wind;\n  display: grid;\n  gap: 5px;\n  justify-content: space-between;\n  align-items: center;\n  grid-template-columns: repeat(3, 1fr);\n}\nli>.rain{\n  grid-area: rain;\n  display: grid;\n  gap: 5px;\n  justify-content: space-between;\n  align-items: center;\n  grid-template-columns: repeat(2, 1fr);\n}\nli>.snow{\n  grid-area: snow;\n  display: grid;\n  gap: 5px;\n  justify-content: space-between;\n  align-items: center;\n  grid-template-columns: repeat(2, 1fr);\n}\n\n#content > div#forecast > ul > li.headerLi > div:nth-child(n)::after, \n#content > div#forecast > ul > li.headerLi > div >span:nth-child(n)::after{\ncontent: none;  \n}\n#content > div#forecast > ul > li.headerLi{\n  position: sticky;\n  top: 0px;\n  background-color: grey;\n  z-index: 1;\n  margin-left: -5px;\n}\n\n",""]);const c=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],c=0;c<e.length;c++){var s=e[c],u=r.base?s[0]+r.base:s[0],l=o[u]||0,d="".concat(u," ").concat(l);o[u]=l+1;var p=n(d),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=a(h,r);r.byIndex=c,t.splice(c,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var c=n(o[i]);t[c].references--}for(var s=r(e,a),u=0;u<o.length;u++){var l=n(o[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=s}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0,(()=>{var e=n(379),t=n.n(e),r=n(795),a=n.n(r),o=n(569),i=n.n(o),c=n(565),s=n.n(c),u=n(216),l=n.n(u),d=n(589),p=n.n(d),h=n(28),f={};f.styleTagTransform=p(),f.setAttributes=s(),f.insert=i().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=l(),t()(h.Z,f),h.Z&&h.Z.locals&&h.Z.locals;const m=n.p+"images/1c9757db95fbf4c81c0c.svg",v=n.p+"images/cb73a0aa205b7348fb36.png";function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=document.getElementById("app"),w=new Intl.DisplayNames(["en"],{type:"region"}),b=document.createElement("div");b.id="header";var x=function(){var e=document.createElement("form");e.id="search",e.action="javascript:void(0)";var t=document.createElement("input");t.name="input",t.id="input",t.setAttribute("for","search"),t.setAttribute("type","text"),t.setAttribute("minlength","1"),t.setAttribute("pattern","^([a-zA-ZÂ-É]+(?:. |-| |'))*[a-zA-ZÂ-É]*$"),t.value="London";var n=document.createElement("button");return n.type="submit",n.innerText="Submit",n.setAttribute("for","search"),e.appendChild(t),e.appendChild(n),e}(),E=document.createElement("div");E.id="content";var L=function(){var e=document.createElement("div");e.id="credit";var t=document.createElement("img");t.src=v,t.alt="Open Weather";var n=document.createElement("p");n.textContent="Weather data provided by ";var r=document.createElement("a");return r.href="https://openweathermap.org/",r.textContent="Open Weather",n.appendChild(r),e.appendChild(t),e.appendChild(n),e}();function C(e,t){for(var n=function(){var t,n,o=(t=a[r],n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],c=o[1],s=document.createElement("div");switch(e.appendChild(s),i){case"dt":var u=new Date(1e3*c);s.classList.add("date"),s.innerText="".concat(u.toLocaleDateString()," ").concat(u.toLocaleTimeString());break;case"main":s.classList.add("main");var l=k("span","temp",c.temp),d=k("span","tempFeelsLike",c.feels_like),p=k("span","pressure",c.pressure),h=k("span","humidity",c.humidity);s.append(l),s.appendChild(d),s.appendChild(h),s.appendChild(p);break;case"weather":s.classList.add("weatherGroups"),c.forEach((function(e){var t=document.createElement("div");t.classList.add("weather");var n=document.createElement("img");n.alt=e.description,n.src="http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png");var r=k("span","weatherDesc",e.description.charAt(0).toUpperCase()+e.description.slice(1));t.appendChild(n),t.appendChild(r),s.appendChild(t)}));break;case"wind":s.classList.add("wind");var f=document.createElement("img"),v=document.createElement("div");v.classList.add("windDirection"),f.alt="Wind direction is ".concat(c.deg," degrees off north"),f.src=m,f.style.transform="rotate(".concat(c.deg,"deg)");var g=k("span","windSpeed",c.speed);if(v.appendChild(f),s.appendChild(v),s.appendChild(g),void 0!==c.gust){var w=k("span","windGust",c.gust);s.appendChild(w)}break;case"clouds":s.classList.add("clouds");var b=k("span","cloudiness",c.all);s.appendChild(b);break;case"rain":if(s.classList.add("rain"),void 0!==c["1h"]){var x=k("span","rain1h",c["1h"]);s.appendChild(x)}if(void 0!==c["3h"]){var E=k("span","rain3h",c["3h"]);s.appendChild(E)}break;case"snow":if(s.classList.add("snow"),"undefined"!==c["1h"]){var L=k("span","snow1h",c["1h"]);s.appendChild(L)}if("undefined"!==c["3h"]){C.classList.add("snow3h");var C=k("span","snow1h",c["1h"]);s.appendChild(C)}break;default:s.remove()}},r=0,a=Object.entries(t);r<a.length;r++)n()}function k(e,t,n){var r=document.createElement(e);return r.classList.add(t),void 0!==n&&(r.innerText=n),r}g.append(b),b.append(L),b.append(x),g.append(E);var S={header:b,content:E,search:x,createForecast:function(e){return function(e){var t=document.createElement("div");t.id="forecast";var n=document.createElement("div");n.classList.add("head");var r=document.createElement("h2");r.textContent="Weather forecast:",n.appendChild(r),t.appendChild(n);var a=document.createElement("ul");t.appendChild(a);var o=function(){var e=document.createElement("li");e.classList.add("headerLi");var t=k("div","date","Date");e.appendChild(t);var n=k("div","weather","Weather");e.appendChild(n);var r=k("div","clouds","Cloudiness");e.appendChild(r);var a=k("div","main"),o=k("span","temp","Temperature"),i=k("span","tempFeelsLike","Feels like"),c=k("span","pressure","Pressure"),s=k("span","humidity","Humidity");a.appendChild(o),a.appendChild(i),a.appendChild(s),a.appendChild(c),e.appendChild(a);var u=k("div","wind"),l=k("span","windDirection","Wind direction"),d=k("span","windSpeed","Wind speed"),p=k("span","windGust","Wind gust");u.appendChild(l),u.appendChild(d),u.appendChild(p),e.appendChild(u);var h=k("div","rain"),f=k("span","rain1h","Rain in 1 hour"),m=k("span","rain3h","Rain in 3 hours");h.appendChild(f),h.appendChild(m),e.appendChild(h);var v=k("div","snow"),y=k("span","snow1h","Snow in 1 hour"),g=k("span","snow3h","Snow in 3 hours");return v.appendChild(y),v.appendChild(g),e.appendChild(v),e}();return a.appendChild(o),e.list.forEach((function(e){var t=document.createElement("li");C(t,e),a.appendChild(t)})),t}(e)},cityChooser:function(e){return function(e){var t=document.createElement("form");t.id="cityList",t.action="javascript:void(0)";var n=document.createElement("select");n.classList.add("citiesList"),n.name="coords",e.forEach((function(e){var t=document.createElement("option");t.innerText="".concat(e.name," in ").concat(w.of(e.country)).concat(void 0!==e.state?" of the state: ".concat(e.state):""),t.value='{"lat": "'.concat(e.lat,'", "lon":"').concat(e.lon,'"}'),n.appendChild(t)})),t.appendChild(n);var r=document.createElement("button");r.id="submit",r.innerText="Confirm";var a=document.createElement("button");return a.id="cancel",a.type="button",a.innerText="Cancel",t.appendChild(r),t.appendChild(a),t}(e)},replaceElement:function(e,t){return function(e,t){var n=e.parentNode;e.remove(),n.appendChild(t)}(e,t)},createCurrentWeather:function(e){return function(e){var t=document.createElement("div"),n=document.createElement("h2");return n.classList.add("head"),n.textContent="Current weather:",t.appendChild(n),t.id="weather",C(t,e),t}(e)}};function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function O(){O=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new L(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=b(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function d(){}function p(){}function h(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(C([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=h.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==j(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=h,c(y,"constructor",h),c(h,"constructor",p),p.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function T(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))}}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var A="6ca3dfe826d462d0b8e460e844d7d899",D=P((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.call=t,this.responseData=n,this.time=Math.floor(Number((new Date).getTime())/1e3/60)})),F=[];function G(e){var t=e;return t instanceof Object==1&&(t=JSON.stringify(t)),t}function I(e){return F.some((function(t){return t.call===G(e)}))}function W(e,t){var n=new D(G(e),JSON.stringify(t));F.push(n)}function M(e){var t=F.find((function(t){return t.call===G(e)}));return JSON.parse(t.responseData)}setInterval((function(){var e=Math.floor(Number((new Date).getTime())/1e3/60);F.forEach((function(t,n){e-t.time>10&&F.splice(n,1)}))}),6e4);var Z,B,R={getCitiesList:(B=_(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return B.apply(this,arguments)}),getWeatherData:(Z=_(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return Z.apply(this,arguments)})},z=function(){var e=_(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,I(t)){e.next=16;break}return e.next=4,fetch("https://api.openweathermap.org/geo/1.0/direct?q=".concat(t,"&limit=5&appid=").concat(A),{mode:"cors"});case 4:if(200!=(n=e.sent).status){e.next=13;break}return e.next=8,n.json();case 8:return r=e.sent,W(t,r),e.abrupt("return",r);case 13:throw"Invalid request";case 14:e.next=17;break;case 16:return e.abrupt("return",M(t));case 17:e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(0),console.error("Error:"+e.t0),e.t0;case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=_(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,I(t,new Date)){e.next=12;break}return e.next=4,fetch("https://api.openweathermap.org/data/2.5/".concat(t.type,"?lat=").concat(t.lat,"&lon=").concat(t.lon,"&appid=").concat(A,"&units=metric"));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,W(t,r),e.abrupt("return",r);case 12:return e.abrupt("return",M(t));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function V(){V=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new L(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=b(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function d(){}function p(){}function h(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(C([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=h.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==J(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=h,c(y,"constructor",h),c(h,"constructor",p),p.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function $(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,c,"next",e)}function c(e){$(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Y(e){return q.apply(this,arguments)}function q(){return(q=U(V().mark((function e(t){var n,r,a,o,i;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=document.getElementById("input")).setCustomValidity(""),t.preventDefault(),S.search.checkValidity()){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,r=new FormData(S.search),a=r.get("input"),e.next=10,R.getCitiesList(a);case 10:if(0===(o=e.sent).length){e.next=17;break}i=S.cityChooser(o),S.replaceElement(S.search,i),K(i),e.next=18;break;case 17:throw"No cities with that name";case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(5),n.setCustomValidity(e.t0),S.search.reportValidity();case 24:case"end":return e.stop()}}),e,null,[[5,20]])})))).apply(this,arguments)}S.search.addEventListener("submit",function(){var e=U(V().mark((function e(t){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S.search.addEventListener("input",(function(e){e.preventDefault(),e.target.setCustomValidity("")}));var K=function(e){e.addEventListener("submit",function(){var t=U(V().mark((function t(n){var r,a;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),r=new FormData(e),a=JSON.parse(r.get("coords")),S.replaceElement(e,S.search),Q(a,"forecast");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),document.getElementById("cancel").addEventListener("click",(function(){S.replaceElement(e,S.search)}))},Q=function(){var e=U(V().mark((function e(t){var n,r;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.type="weather",e.next=3,R.getWeatherData(t);case 3:return n=e.sent,t.type="forecast",e.next=7,R.getWeatherData(t);case 7:r=e.sent,X(n,"weather"),X(r,"forecast");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(e,t){var n;document.getElementById(t)&&document.getElementById(t).remove(),"forecast"===t?n=S.createForecast(e):"weather"===t&&(n=S.createCurrentWeather(e)),S.content.append(n)}})()})();